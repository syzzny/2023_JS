<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        /* 객체: 속성값과 메소드를 가지고있는 자료형 (변수에 저장해서 사용) */
        // document의 자료형: 객체(object)
        document.write(typeof(document)+"<br>");

        // 객체 생성 후 변수에 할당 (자료형이기 때문에)
        let puppy ={
            // 속성
            name: "초코",
            // 메소드
            eat: function(){
                document.write(this.name+" 밥을 먹습니다");
            }
        };
        document.write(puppy.name+"<br>");
        document.write(puppy["name"]+"<br>");
        puppy.eat();
        console.log(puppy);

        document.write("<br>");

        // 리터럴 표기를 이용한 객체생성 실습1
        let person ={
            name: "손예진",
            address: "BUSAN",
            intro: function(){
                document.write(person.name+"입니다. "+person.address+"에 거주중입니다<br>");
            }
        }
        person.intro();

        // 리터럴 표기를 이용한 객체생성 실습2
        let myCookie = {
            shape: "원",
            flavor: "초코",
            intro: function(){
                return this.shape+" 모양의 "+this.flavor+ "맛입니다" +"<br>";
                //return `${this.shape}`;
            },
            count: function(number){
                return number+"개 있습니다";
            }
        }
        myCookie.shape = "하트";
        myCookie.intro();
        document.write(myCookie.intro());

        /* 생성자 함수: 값을 받아와서 객체를 맞드는 함수 */
        function Dog(color, name, age){
            this.name= name;
            this.age= age;
            this.color= color;
            // 메소드 작성
            this.eat = function(){
                return this.name+"는 밥을 먹습니다";
            }
        }
        let dog1 = new Dog("black","choco",2);

        // 없는 속성에 접근해도 오류가 발생하지 않고 undefined를 출력
        console.log(dog1.famlily);

        // 없는 속성에 값을 넣어주면 그 값이 할당되어 사용할수 있다.
        dog1.famlily = "진돗개";
        console.log(dog1.famlily);

        // 생성자 함수를 이용한 객체의 생성 실습1
        function Student(name, score){
            this.name = name;
            this.score = score;
            this.study = function(){
                this.score+=10;
            }
            this.showScore = function(){
                return this.score;
            }
        }
        let myStudent = new Student("손예진", 70);
        let yourStudent = new Student("예진", 80);

        // 생성자 함수를 이용한 객체의 생성 실습2
        function BusCard(money){
            this.money=money;
            // 객체 메소드
            // 1) money에 입력받은 금액을 더하는 메소드
            // this.money(객체 안에서 접근하는 값)
            // cash(메소드의 매개변수)
            this.charge = function(cash){
                this.money += cash;
            }
            // 2) 버스를 탈때, 1500원을 지불 , 없다면 잔액부족 알림
            this.takeBus = function(){
                if(this.money<=1500){
                    this.money -= 1500;
                }
                else{
                    console.log("잔액부족");
                }
            },
            // 3) 객체의 money 값을 return 하는 메소드
            this.showMoney = function(){
                return this.money;
            }
        }
        let myBusCard = new BusCard(1500);
        let yourBusCard = new BusCard(1000);

        // this는 자기자신의 객체를 가져온다
        myBusCard.charge(1000);
    
        
        // 생성자 함수를 이용한 객체의 생성실습 3
        function Messege(name, content, time){
            this.modifyMessege = function(messege){
                this.content = message;
                this.time=time;
            },
            this.showMessege = function(){
                return name+"님 께서"+content+"를"+time+"에 보냈습니다";
            }
        }
        let myMessege = new Messege("손예진","반갑습니다","0310");
        let yourMessege = new Messege("예진","안녕하세요","0310"); 

        // 생성자 함수로 만든 객체는 객체의 메소드에 접근 가능
        let num = Number(123);
        let num2 = 1;
        // 어떤 메소드인지는 모르겠지만 메소드에 접근해서 쓸수있다
        num.toExponential(); 

        // 가장 많이 사용한 document의 메소드 
        document.write("객체에 들어가있는 함수를 메소드라고 한다<br>");

        // 객체의 특징 - 자료형 중에 하나, 속성값과 메소드를 가진다
        // this - 자기 자신을 호출하는 키워드

        // delete 연습
        delete myMessege.name;
        console.log(myMessege.showMessege());

        // 객체 안의 속성 / 메소드 반복
        // for ... in
        for(let i in puppy){
            document.write(i+":"+puppy[i]+"<br>");
        }

        // for in 실습
        for(let i in yourMessege){
            document.write(i);
        }
        for(let i in myBusCard){
            document.write(typeof myBusCard[i]+"<br>");
        }
    </script>
</body>
</html>